dist: bionic

language: php

php:
  - 7.3
services:
  - mysql
cache:
  directories:
    - node_modules
    - vendor
before_script:
  - cd ./tick-it-easy-backend
  - cp .env.travis .env  
  - sudo mysql -e 'create database tick_it_easy;'  
  - composer self-update  
  - composer install --prefer-source --no-interaction --dev  
  - php artisan key:generate  
  - php artisan migrate
  - php artisan db:seed

deploy:
  provider: pages
  skip_cleanup: true
  keep_history: true
  on:
    branch: master
